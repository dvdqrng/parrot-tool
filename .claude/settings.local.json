{
  "permissions": {
    "allow": [
      "Bash(npm run dev:*)",
      "Bash(lsof:*)",
      "Bash(xargs kill:*)",
      "Bash(npm run build:*)",
      "Bash(pkill:*)",
      "Bash(curl:*)",
      "Bash(grep:*)",
      "Bash(cat:*)",
      "Bash(find:*)",
      "Bash(npm ls:*)",
      "Bash(npx tsc:*)",
      "Bash(npm install:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$(cat <<''EOF''\nAdd Beeper Kanban board with AI assistant\n\n- Implement three-column kanban board (Unread, Drafts, Sent) for managing messages\n- Add message panel with chat history and reply functionality\n- Add AI chat assistant per message thread with persistent storage\n- Integrate with Beeper API for fetching/sending messages across platforms\n- Add settings pages for platforms, API keys, tone preferences, and hidden chats\n- Fix sent column to show messages after replying (include isFromMe messages)\n\nðŸ¤– Generated with [Claude Code](https://claude.com/claude-code)\n\nCo-Authored-By: Claude Opus 4.5 <noreply@anthropic.com>\nEOF\n)\")",
      "Bash(git push:*)",
      "Bash(gh repo create:*)",
      "Bash(git remote:*)",
      "Bash(npx shadcn@latest add dropdown-menu:*)",
      "Bash(xargs cat:*)",
      "Bash(npx shadcn@latest add:*)",
      "Bash(npm view:*)",
      "Bash(npx shadcn@latest init:*)",
      "Bash(wc:*)",
      "Bash(git log:*)",
      "Bash(convert:*)",
      "Bash(gradient:'#6366f1-#8b5cf6' )",
      "Bash(icon.png)",
      "Bash(magick:*)",
      "Bash(iconutil:*)",
      "Bash(ls:*)",
      "Bash(files=\"\napp/api/beeper/messages/route.ts\napp/api/ai/draft/route.ts\napp/api/beeper/user-messages/route.ts\napp/api/beeper/contacts/route.ts\napp/api/ai/conversation-summary/route.ts\napp/api/ai/chat/route.ts\napp/api/ollama/models/route.ts\napp/api/media/route.ts\napp/api/beeper/send/route.ts\napp/api/beeper/chats/route.ts\napp/api/beeper/chats/[chatId]/unarchive/route.ts\napp/api/beeper/chats/[chatId]/archive/route.ts\napp/api/beeper/archived/route.ts\napp/api/beeper/accounts/route.ts\napp/api/avatar/route.ts\n\")",
      "Bash(__NEW_LINE__ for file in $files)",
      "Bash(do)",
      "Bash(if [ -f \"$file\" ])",
      "Bash(then)",
      "Bash(/tmp/replace-console.sh:*)",
      "Bash(fi)",
      "Bash(done)",
      "Bash(xargs perl:*)",
      "Bash(./build-mac.sh)",
      "Bash(git commit:*)",
      "Bash(npx prisma:*)",
      "Bash(supabase init:*)",
      "Bash(supabase functions new:*)",
      "Bash(nc:*)",
      "Bash(supabase link:*)",
      "Bash(supabase login:*)",
      "Bash(supabase functions deploy:*)",
      "Bash(supabase secrets set:*)",
      "Bash(sips -g pixelWidth -g pixelHeight:*)",
      "Bash(sips:*)",
      "Bash(/Applications/Parrot.app/Contents/MacOS/Parrot:*)",
      "Bash(codesign:*)",
      "Bash(xattr:*)",
      "Bash(hdiutil attach:*)",
      "Bash(log show:*)",
      "Bash(npx asar:*)",
      "Bash(# Check for recent crash reports ls -la ~/Library/Logs/DiagnosticReports/)",
      "Bash(# Kill everything first pkill -f \"\"node server.js\"\" pkill -f \"\"Parrot\"\" lsof -ti:3000)",
      "Bash(# Kill any existing parrot processes pkill -f Parrot lsof -ti:3000)",
      "Bash(# Check for crash reports ls -lt ~/Library/Logs/DiagnosticReports/*.crash)",
      "Read(//Library/Logs/DiagnosticReports/**)",
      "Bash(# Check all diagnostic reports ls -lt ~/Library/Logs/DiagnosticReports/)",
      "Bash(# Check if builder is running pgrep -f electron-builder # Check dist folder modification times ls -la /Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/)",
      "Bash(# Check system log for Electron/Parrot errors log show --predicate ''process CONTAINS \"\"Parrot\"\" OR process CONTAINS \"\"Electron\"\" OR message CONTAINS \"\"Parrot\"\"'' --last 5m)",
      "Bash(# Check the Electron Framework for default_app ls -la \"\"/Applications/Parrot.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Resources/\"\")",
      "Bash(# Check the Parrot binary - is it a proper Electron binary or just a launcher? file \"\"/Applications/Parrot.app/Contents/MacOS/Parrot\"\" otool -L \"\"/Applications/Parrot.app/Contents/MacOS/Parrot\"\")",
      "Bash(# Check the rpath and how Electron loads otool -l \"\"/Applications/Parrot.app/Contents/MacOS/Parrot\"\")",
      "Bash(# Check if there''s a default_app.asar that might be needed ls -la \"\"/Applications/Parrot.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Resources/\"\")",
      "Bash(# Check the full ElectronAsarIntegrity entry plutil -p \"\"/Applications/Parrot.app/Contents/Info.plist\"\")",
      "Bash(# Create a backup and remove the ElectronAsarIntegrity entry cp \"\"/Applications/Parrot.app/Contents/Info.plist\"\" \"\"/Applications/Parrot.app/Contents/Info.plist.bak\"\" # Remove the ElectronAsarIntegrity key using PlistBuddy /usr/libexec/PlistBuddy -c \"\"Delete :ElectronAsarIntegrity\"\" \"\"/Applications/Parrot.app/Contents/Info.plist\"\" 2>&1 # Verify it was removed plutil -p \"\"/Applications/Parrot.app/Contents/Info.plist\"\")",
      "Bash(# Kill any lldb process that might be hanging pkill lldb # Let''s try a simpler approach - use dtrace to see system calls # Or try running with SIP logging sudo log show --last 1m --predicate ''processImagePath CONTAINS \"\"Parrot\"\"'' 2>&1)",
      "Bash(# Check if there might be a crash report now ls -lt ~/Library/Logs/DiagnosticReports/)",
      "Bash(# Check what''s inside .next/standalone in the bundle - this might have node_modules with electron ls -la \"\"/Applications/Parrot.app/Contents/Resources/app/.next/standalone/\"\")",
      "Bash(# Check if there''s an electron module in the standalone node_modules ls -la \"\"/Applications/Parrot.app/Contents/Resources/app/.next/standalone/node_modules/\"\")",
      "Bash(# Let me rebuild the app and see if the issue persists # First check your current electron-builder version cd /Users/davidquiring/Projects/beeper-kanban npm list electron-builder)",
      "Bash(# Check ElectronAsarIntegrity in Info.plist plutil -p \"\"/Applications/Parrot.app/Contents/Info.plist\"\")",
      "Bash(# Run the app and try to capture output with script rm -f /tmp/parrot-electron.log script -q /tmp/parrot-output.txt \"\"/Applications/Parrot.app/Contents/MacOS/Parrot\"\" & PID=$! sleep 5 kill $PID wait $PID echo \"\"=== Script output ===\"\" cat /tmp/parrot-output.txt)",
      "Bash(# Check Electron version in the bundle cat \"\"/Applications/Parrot.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Resources/Info.plist\"\")",
      "Bash(# Calculate the actual hash of the asar file header # First, let''s check what the stored hash is plutil -p \"\"/Applications/Parrot.app/Contents/Info.plist\"\")",
      "Bash(# Check the build output - specifically what Electron version was used cat dist/mac-arm64/Parrot.app/Contents/Frameworks/\"\"Electron Framework.framework\"\"/Versions/A/Resources/Info.plist)",
      "Bash(npm run)",
      "Bash(git checkout:*)",
      "Bash(# Check the Electron version in the current app cat \"\"/Applications/Parrot.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Resources/Info.plist\"\")",
      "Bash(# Kill any running npm processes pkill -f \"\"electron-builder\"\" || true cd /Users/davidquiring/Projects/beeper-kanban # Run the dev electron with the project directly rm -f /tmp/parrot-electron.log # Make sure no ELECTRON_RUN_AS_NODE is set env -u ELECTRON_RUN_AS_NODE NODE_ENV=development ./node_modules/electron/dist/Electron.app/Contents/MacOS/Electron . 2>&1 & PID=$! echo \"\"Started dev Electron with PID: $PID\"\" sleep 5 echo \"\"\"\" echo \"\"=== Electron log ===\"\" cat /tmp/parrot-electron.log)",
      "Read(//Users/davidquiring/Projects/beeper-kanban/**)",
      "Bash(# Kill all next and electron processes pkill -f \"\"next\"\" || true pkill -f \"\"Electron\"\" || true lsof -ti:3000)",
      "Bash(# Kill all processes pkill -f \"\"next\"\" || true pkill -f \"\"Electron\"\" || true pkill -f \"\"concurrently\"\" || true lsof -ti:3000)",
      "Bash(node -e:*)",
      "Bash(defaults read:*)",
      "Bash(npm run electron:build:*)",
      "Bash(osascript:*)",
      "Bash(open:*)",
      "Bash(/usr/bin/log show:*)",
      "Bash(plutil:*)",
      "Bash(shasum:*)",
      "Bash(ditto:*)",
      "Bash(/usr/libexec/PlistBuddy:*)",
      "Bash(spctl --assess --verbose:*)",
      "Bash(env -u ELECTRON_RUN_AS_NODE dist/mac-arm64/Parrot.app/Contents/MacOS/Parrot:*)",
      "Bash(npm run build:copy-static:*)",
      "Bash(kill:*)",
      "Bash(xxd:*)",
      "Bash(export APPLE_ID=\"mail@davidquiring.co\")",
      "Bash(export APPLE_APP_SPECIFIC_PASSWORD=\"vlwi-dgfv-yjtd-mblt\")",
      "Bash(export APPLE_TEAM_ID=\"B5SD826C5K\")",
      "Bash(security find-identity:*)",
      "Bash(security delete-certificate:*)",
      "Bash(spctl -a -vvv -t install:*)",
      "Bash(stapler validate:*)",
      "Bash(spctl -a -vvv -t open --context context:primary-signature:*)",
      "Bash(xcrun notarytool submit dist/Parrot-0.1.0-arm64.dmg --apple-id \"mail@davidquiring.co\" --password \"vlwi-dgfv-yjtd-mblt\" --team-id \"B5SD826C5K\" --wait)",
      "Bash(xcrun stapler:*)",
      "Bash(spctl:*)",
      "Bash(APPLE_ID='mail@davidquiring.co' APPLE_APP_SPECIFIC_PASSWORD='vlwi-dgfv-yjtd-mblt' ./build-mac.sh:*)",
      "Bash(security export:*)",
      "Bash(gh secret set:*)",
      "Bash(gh secret:*)",
      "Bash(\"dist/mac-arm64/Parrot.app/Contents/MacOS/Parrot\")",
      "Bash(gh run list:*)",
      "Bash(echo:*)",
      "Bash(pgrep:*)",
      "Bash(/Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/Parrot.app/Contents/MacOS/Parrot)",
      "Bash(ELECTRON_ENABLE_STACK_DUMPING=1 /Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/Parrot.app/Contents/MacOS/Parrot:*)",
      "Bash(NODE_ENV=production PORT=31415 node:*)",
      "Bash(CSC_IDENTITY_AUTO_DISCOVERY=false npx electron-builder:*)",
      "Bash(lldb:*)",
      "Bash(/Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/Parrot.app/Contents/Frameworks/Electron Framework.framework/Versions/A/Helpers/Electron Helper.app/Contents/MacOS/Electron Helper)",
      "Bash(\"/Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/Parrot.app/Contents/Frameworks/Parrot Helper.app/Contents/MacOS/Parrot Helper\" --version)",
      "Bash(dist/mac-arm64/parrot.app/Contents/MacOS/parrot:*)",
      "Bash(ELECTRON_ENABLE_LOGGING=1 ELECTRON_ENABLE_STACK_DUMPING=1 \"/Users/davidquiring/Projects/beeper-kanban/dist/mac-arm64/Parrot.app/Contents/MacOS/Parrot\":*)",
      "Bash(NODE_ENV=development npx electron:*)",
      "Bash(\"node_modules/electron/dist/Electron.app/Contents/MacOS/Electron\" --version)",
      "Bash(npm cache clean:*)",
      "Bash(otool:*)",
      "Bash(\"node_modules/electron/dist/Electron.app/Contents/MacOS/Electron\" .)",
      "Bash(\"node_modules/electron/dist/Electron.app/Contents/MacOS/Electron\" --inspect .)",
      "Bash(\"node_modules/.bin/electron\" .)",
      "Bash(\"/tmp/electron-backup/dist/Electron.app/Contents/MacOS/Electron\" .)",
      "Bash(\"node_modules/electron/dist/Electron.app/Contents/MacOS/Electron\" /tmp/)",
      "Bash(npx electron .)",
      "Bash(node --version:*)",
      "Bash(env)",
      "Bash(unset ELECTRON_RUN_AS_NODE)",
      "Bash(APPLE_ID=\"mail@davidquiring.co\" APPLE_APP_SPECIFIC_PASSWORD=\"vlwi-dgfv-yjtd-mblt\" APPLE_TEAM_ID=\"B5SD826C5K\" node scripts/build-with-version.js:*)",
      "Bash(git tag:*)",
      "Bash(gh release view:*)",
      "Bash(gh run view:*)",
      "Bash(gh release list:*)",
      "Bash(\"/Volumes/Parrot Installer 17/Parrot.app/Contents/MacOS/Parrot\")",
      "Bash(\"/Volumes/Parrot Installer 19/Parrot.app/Contents/MacOS/Parrot\")",
      "Bash(\"/Volumes/Parrot Installer 19/Parrot.app/Contents/MacOS/Parrot\" --enable-logging)",
      "Bash(ELECTRON_ENABLE_LOGGING=1 \"/Volumes/Parrot Installer 19/Parrot.app/Contents/MacOS/Parrot\":*)",
      "Bash(# Check if NEXT_PUBLIC env vars are baked into the build grep -r \"\"NEXT_PUBLIC_SUPABASE\"\" \"\"/Volumes/Parrot Installer 19/Parrot.app/Contents/Resources/app/.next/standalone/.next/static\"\")",
      "Bash(gh workflow run:*)",
      "Bash(gh release download:*)",
      "Bash(git revert:*)",
      "Bash(xargs basename:*)",
      "Bash(npx next build:*)",
      "Bash(gh release edit:*)",
      "Bash(npm version:*)",
      "Bash(git stash:*)"
    ]
  }
}
